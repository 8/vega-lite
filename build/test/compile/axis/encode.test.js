"use strict";
/* tslint:disable:quotemark */
Object.defineProperty(exports, "__esModule", { value: true });
var tslib_1 = require("tslib");
var chai_1 = require("chai");
var encode = tslib_1.__importStar(require("../../../src/compile/axis/encode"));
var encode_1 = require("../../../src/compile/axis/encode");
var util_1 = require("../../util");
describe('compile/axis/encode', function () {
    describe('encode.labels()', function () {
        it('should not rotate label for temporal field by default', function () {
            var model = util_1.parseUnitModelWithScale({
                mark: "point",
                encoding: {
                    x: { field: "a", type: "temporal", timeUnit: "month" }
                }
            });
            var labels = encode.labels(model, 'x', {}, 'bottom');
            chai_1.assert.isUndefined(labels.angle);
        });
        it('should do not rotate label for temporal field if labelAngle is specified in axis config', function () {
            var model = util_1.parseUnitModelWithScale({
                mark: "point",
                encoding: {
                    x: { field: "a", type: "temporal", timeUnit: "month" }
                },
                config: { axisX: { labelAngle: 90 } }
            });
            var labels = encode.labels(model, 'x', {}, 'bottom');
            chai_1.assert.isUndefined(labels.angle);
        });
        it('should have correct text.signal for quarter timeUnits', function () {
            var model = util_1.parseUnitModelWithScale({
                mark: "point",
                encoding: {
                    x: { field: "a", type: "temporal", timeUnit: "quarter" }
                }
            });
            var labels = encode.labels(model, 'x', {}, 'bottom');
            var expected = "'Q' + quarter(datum.value)";
            chai_1.assert.equal(labels.text.signal, expected);
        });
        it('should have correct text.signal for yearquartermonth timeUnits', function () {
            var model = util_1.parseUnitModelWithScale({
                mark: "point",
                encoding: {
                    x: { field: "a", type: "temporal", timeUnit: "yearquartermonth" }
                }
            });
            var labels = encode.labels(model, 'x', {}, 'bottom');
            var expected = "'Q' + quarter(datum.value) + ' ' + timeFormat(datum.value, '%b %Y')";
            chai_1.assert.equal(labels.text.signal, expected);
        });
    });
    describe('labelAlign', function () {
        describe('horizontal orients', function () {
            it('360 degree check for horizonatal orients return to see if they orient properly', function () {
                chai_1.assert.equal(encode_1.labelAlign(0, 'top'), 'center');
                chai_1.assert.equal(encode_1.labelAlign(15, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(30, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(45, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(60, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(75, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(90, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(105, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(120, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(135, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(150, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(165, 'top'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(180, 'top'), 'center');
                chai_1.assert.equal(encode_1.labelAlign(195, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(210, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(225, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(240, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(255, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(270, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(285, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(300, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(315, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(330, 'bottom'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(345, 'bottom'), 'right');
            });
            it('360 degree check for vertical orients return to see if they orient properly', function () {
                chai_1.assert.equal(encode_1.labelAlign(0, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(15, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(30, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(45, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(60, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(75, 'left'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(90, 'left'), 'center');
                chai_1.assert.equal(encode_1.labelAlign(105, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(120, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(135, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(150, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(165, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(180, 'left'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(195, 'right'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(210, 'right'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(225, 'right'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(240, 'right'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(255, 'right'), 'right');
                chai_1.assert.equal(encode_1.labelAlign(270, 'right'), 'center');
                chai_1.assert.equal(encode_1.labelAlign(285, 'right'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(300, 'right'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(315, 'right'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(330, 'right'), 'left');
                chai_1.assert.equal(encode_1.labelAlign(345, 'right'), 'left');
            });
        });
    });
    describe('labelBaseline', function () {
        it('is middle for perpendiculars horizontal orients', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(90, 'top'), { value: 'middle' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(270, 'bottom'), { value: 'middle' });
        });
        it('is top for bottom orients for 1st and 4th quadrants', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(45, 'bottom'), { value: 'top' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(180, 'top'), { value: 'top' });
        });
        it('is bottom for bottom orients for 2nd and 3rd quadrants', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(100, 'bottom'), { value: 'middle' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(260, 'bottom'), { value: 'middle' });
        });
        it('is middle for 0 and 180 horizontal orients', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(0, 'left'), { value: 'middle' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(180, 'right'), { value: 'middle' });
        });
        it('is top for bottom orients for 1st and 2nd quadrants', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(80, 'left'), { value: 'top' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(100, 'left'), { value: 'top' });
        });
        it('is bottom for bottom orients for 3rd and 4th quadrants', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(280, 'left'), { value: 'bottom' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(260, 'left'), { value: 'bottom' });
        });
        it('is bottom for bottom orients for 3rd and 4th quadrants', function () {
            chai_1.assert.deepEqual(encode_1.labelBaseline(280, 'left'), { value: 'bottom' });
            chai_1.assert.deepEqual(encode_1.labelBaseline(260, 'left'), { value: 'bottom' });
        });
    });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZW5jb2RlLnRlc3QuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi90ZXN0L2NvbXBpbGUvYXhpcy9lbmNvZGUudGVzdC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsOEJBQThCOzs7QUFFOUIsNkJBQTRCO0FBRTVCLCtFQUEyRDtBQUMzRCwyREFBMkU7QUFDM0UsbUNBQW1EO0FBR25ELFFBQVEsQ0FBQyxxQkFBcUIsRUFBRTtJQUM5QixRQUFRLENBQUMsaUJBQWlCLEVBQUU7UUFDMUIsRUFBRSxDQUFDLHVEQUF1RCxFQUFFO1lBQzFELElBQU0sS0FBSyxHQUFHLDhCQUF1QixDQUFDO2dCQUNwQyxJQUFJLEVBQUUsT0FBTztnQkFDYixRQUFRLEVBQUU7b0JBQ1IsQ0FBQyxFQUFFLEVBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsVUFBVSxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUM7aUJBQ3JEO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsSUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN2RCxhQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx5RkFBeUYsRUFBRTtZQUM1RixJQUFNLEtBQUssR0FBRyw4QkFBdUIsQ0FBQztnQkFDcEMsSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFO29CQUNSLENBQUMsRUFBRSxFQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFDO2lCQUNyRDtnQkFDRCxNQUFNLEVBQUUsRUFBQyxLQUFLLEVBQUUsRUFBQyxVQUFVLEVBQUUsRUFBRSxFQUFDLEVBQUM7YUFDbEMsQ0FBQyxDQUFDO1lBQ0gsSUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN2RCxhQUFNLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuQyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyx1REFBdUQsRUFBRTtZQUMxRCxJQUFNLEtBQUssR0FBRyw4QkFBdUIsQ0FBQztnQkFDcEMsSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFO29CQUNSLENBQUMsRUFBRSxFQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsU0FBUyxFQUFDO2lCQUN2RDthQUNGLENBQUMsQ0FBQztZQUNILElBQU0sTUFBTSxHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsUUFBUSxDQUFDLENBQUM7WUFDdkQsSUFBTSxRQUFRLEdBQUcsNEJBQTRCLENBQUM7WUFDOUMsYUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxRQUFRLENBQUMsQ0FBQztRQUM3QyxDQUFDLENBQUMsQ0FBQztRQUVILEVBQUUsQ0FBQyxnRUFBZ0UsRUFBRTtZQUNuRSxJQUFNLEtBQUssR0FBRyw4QkFBdUIsQ0FBQztnQkFDcEMsSUFBSSxFQUFFLE9BQU87Z0JBQ2IsUUFBUSxFQUFFO29CQUNSLENBQUMsRUFBRSxFQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLFVBQVUsRUFBRSxRQUFRLEVBQUUsa0JBQWtCLEVBQUM7aUJBQ2hFO2FBQ0YsQ0FBQyxDQUFDO1lBQ0gsSUFBTSxNQUFNLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxLQUFLLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxRQUFRLENBQUMsQ0FBQztZQUN2RCxJQUFNLFFBQVEsR0FBRyxxRUFBcUUsQ0FBQztZQUN2RixhQUFNLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO1FBQzdDLENBQUMsQ0FBQyxDQUFDO0lBQ0wsQ0FBQyxDQUFDLENBQUM7SUFFSCxRQUFRLENBQUMsWUFBWSxFQUFFO1FBQ3JCLFFBQVEsQ0FBQyxvQkFBb0IsRUFBRTtZQUM3QixFQUFFLENBQUMsZ0ZBQWdGLEVBQUU7Z0JBQ25GLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxDQUFDLEVBQUUsS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsS0FBSyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQy9DLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsUUFBUSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7WUFDbkQsQ0FBQyxDQUFDLENBQUM7WUFDSCxFQUFFLENBQUMsNkVBQTZFLEVBQUU7Z0JBQ2hGLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxDQUFDLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzdDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxFQUFFLEVBQUUsTUFBTSxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQy9DLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUM7Z0JBQzlDLGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2hELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2hELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2hELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2hELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsT0FBTyxDQUFDLENBQUM7Z0JBQ2hELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FBQyxHQUFHLEVBQUUsT0FBTyxDQUFDLEVBQUUsUUFBUSxDQUFDLENBQUM7Z0JBQ2pELGFBQU0sQ0FBQyxLQUFLLENBQUMsbUJBQVUsQ0FB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LHNCQUFhLENBQUMsR0FBRyxFQUFFLE1BQU0sQ0FBQyxFQUFFLEVBQUMsS0FBSyxFQUFFLFFBQVEsRUFBQyxDQUFDLENBQUM7UUFDbEUsQ0FBQyxDQUFDLENBQUM7UUFFSCxFQUFFLENBQUMsd0RBQXdELEVBQUU7WUFDM0QsYUFBTSxDQUFDLFNBQVMsQ0FBQyxzQkFBYSxDQUFDLEdBQUcsRUFBRSxNQUFNLENBQUMsRUFBRSxFQUFDLEtBQUssRUFBRSxRQUFRLEVBQUMsQ0FBQyxDQUFDO1lBQ2hFLGFBQU0sQ0FBQyxTQUFTLENBQUMsc0JBQWEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUUsRUFBQyxLQUFLLEVBQUUsUUFBUSxFQUFDLENBQUMsQ0FBQztRQUNsRSxDQUFDLENBQUMsQ0FBQztJQUNMLENBQUMsQ0FBQyxDQUFDO0FBQ0wsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyIvKiB0c2xpbnQ6ZGlzYWJsZTpxdW90ZW1hcmsgKi9cblxuaW1wb3J0IHthc3NlcnR9IGZyb20gJ2NoYWknO1xuXG5pbXBvcnQgKiBhcyBlbmNvZGUgZnJvbSAnLi4vLi4vLi4vc3JjL2NvbXBpbGUvYXhpcy9lbmNvZGUnO1xuaW1wb3J0IHtsYWJlbEFsaWduLCBsYWJlbEJhc2VsaW5lfSBmcm9tICcuLi8uLi8uLi9zcmMvY29tcGlsZS9heGlzL2VuY29kZSc7XG5pbXBvcnQge3BhcnNlVW5pdE1vZGVsV2l0aFNjYWxlfSBmcm9tICcuLi8uLi91dGlsJztcblxuXG5kZXNjcmliZSgnY29tcGlsZS9heGlzL2VuY29kZScsICgpID0+IHtcbiAgZGVzY3JpYmUoJ2VuY29kZS5sYWJlbHMoKScsIGZ1bmN0aW9uICgpIHtcbiAgICBpdCgnc2hvdWxkIG5vdCByb3RhdGUgbGFiZWwgZm9yIHRlbXBvcmFsIGZpZWxkIGJ5IGRlZmF1bHQnLCBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnN0IG1vZGVsID0gcGFyc2VVbml0TW9kZWxXaXRoU2NhbGUoe1xuICAgICAgICBtYXJrOiBcInBvaW50XCIsXG4gICAgICAgIGVuY29kaW5nOiB7XG4gICAgICAgICAgeDoge2ZpZWxkOiBcImFcIiwgdHlwZTogXCJ0ZW1wb3JhbFwiLCB0aW1lVW5pdDogXCJtb250aFwifVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGxhYmVscyA9IGVuY29kZS5sYWJlbHMobW9kZWwsICd4Jywge30sICdib3R0b20nKTtcbiAgICAgIGFzc2VydC5pc1VuZGVmaW5lZChsYWJlbHMuYW5nbGUpO1xuICAgIH0pO1xuXG4gICAgaXQoJ3Nob3VsZCBkbyBub3Qgcm90YXRlIGxhYmVsIGZvciB0ZW1wb3JhbCBmaWVsZCBpZiBsYWJlbEFuZ2xlIGlzIHNwZWNpZmllZCBpbiBheGlzIGNvbmZpZycsIGZ1bmN0aW9uKCkge1xuICAgICAgY29uc3QgbW9kZWwgPSBwYXJzZVVuaXRNb2RlbFdpdGhTY2FsZSh7XG4gICAgICAgIG1hcms6IFwicG9pbnRcIixcbiAgICAgICAgZW5jb2Rpbmc6IHtcbiAgICAgICAgICB4OiB7ZmllbGQ6IFwiYVwiLCB0eXBlOiBcInRlbXBvcmFsXCIsIHRpbWVVbml0OiBcIm1vbnRoXCJ9XG4gICAgICAgIH0sXG4gICAgICAgIGNvbmZpZzoge2F4aXNYOiB7bGFiZWxBbmdsZTogOTB9fVxuICAgICAgfSk7XG4gICAgICBjb25zdCBsYWJlbHMgPSBlbmNvZGUubGFiZWxzKG1vZGVsLCAneCcsIHt9LCAnYm90dG9tJyk7XG4gICAgICBhc3NlcnQuaXNVbmRlZmluZWQobGFiZWxzLmFuZ2xlKTtcbiAgICB9KTtcblxuICAgIGl0KCdzaG91bGQgaGF2ZSBjb3JyZWN0IHRleHQuc2lnbmFsIGZvciBxdWFydGVyIHRpbWVVbml0cycsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGNvbnN0IG1vZGVsID0gcGFyc2VVbml0TW9kZWxXaXRoU2NhbGUoe1xuICAgICAgICBtYXJrOiBcInBvaW50XCIsXG4gICAgICAgIGVuY29kaW5nOiB7XG4gICAgICAgICAgeDoge2ZpZWxkOiBcImFcIiwgdHlwZTogXCJ0ZW1wb3JhbFwiLCB0aW1lVW5pdDogXCJxdWFydGVyXCJ9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc3QgbGFiZWxzID0gZW5jb2RlLmxhYmVscyhtb2RlbCwgJ3gnLCB7fSwgJ2JvdHRvbScpO1xuICAgICAgY29uc3QgZXhwZWN0ZWQgPSBcIidRJyArIHF1YXJ0ZXIoZGF0dW0udmFsdWUpXCI7XG4gICAgICBhc3NlcnQuZXF1YWwobGFiZWxzLnRleHQuc2lnbmFsLCBleHBlY3RlZCk7XG4gICAgfSk7XG5cbiAgICBpdCgnc2hvdWxkIGhhdmUgY29ycmVjdCB0ZXh0LnNpZ25hbCBmb3IgeWVhcnF1YXJ0ZXJtb250aCB0aW1lVW5pdHMnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBjb25zdCBtb2RlbCA9IHBhcnNlVW5pdE1vZGVsV2l0aFNjYWxlKHtcbiAgICAgICAgbWFyazogXCJwb2ludFwiLFxuICAgICAgICBlbmNvZGluZzoge1xuICAgICAgICAgIHg6IHtmaWVsZDogXCJhXCIsIHR5cGU6IFwidGVtcG9yYWxcIiwgdGltZVVuaXQ6IFwieWVhcnF1YXJ0ZXJtb250aFwifVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnN0IGxhYmVscyA9IGVuY29kZS5sYWJlbHMobW9kZWwsICd4Jywge30sICdib3R0b20nKTtcbiAgICAgIGNvbnN0IGV4cGVjdGVkID0gXCInUScgKyBxdWFydGVyKGRhdHVtLnZhbHVlKSArICcgJyArIHRpbWVGb3JtYXQoZGF0dW0udmFsdWUsICclYiAlWScpXCI7XG4gICAgICBhc3NlcnQuZXF1YWwobGFiZWxzLnRleHQuc2lnbmFsLCBleHBlY3RlZCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsYWJlbEFsaWduJywgKCkgPT4ge1xuICAgIGRlc2NyaWJlKCdob3Jpem9udGFsIG9yaWVudHMnLCAoKSA9PiB7XG4gICAgICBpdCgnMzYwIGRlZ3JlZSBjaGVjayBmb3IgaG9yaXpvbmF0YWwgb3JpZW50cyByZXR1cm4gdG8gc2VlIGlmIHRoZXkgb3JpZW50IHByb3Blcmx5JywgKCkgPT4ge1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigwLCAndG9wJyksICdjZW50ZXInKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTUsICd0b3AnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDMwLCAndG9wJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbig0NSwgJ3RvcCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oNjAsICd0b3AnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDc1LCAndG9wJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbig5MCwgJ3RvcCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTA1LCAndG9wJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigxMjAsICd0b3AnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDEzNSwgJ3RvcCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTUwLCAndG9wJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigxNjUsICd0b3AnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDE4MCwgJ3RvcCcpLCAnY2VudGVyJyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDE5NSwgJ2JvdHRvbScpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMjEwLCAnYm90dG9tJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigyMjUsICdib3R0b20nKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDI0MCwgJ2JvdHRvbScpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMjU1LCAnYm90dG9tJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigyNzAsICdib3R0b20nKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDI4NSwgJ2JvdHRvbScpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMzAwLCAnYm90dG9tJyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzMTUsICdib3R0b20nKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDMzMCwgJ2JvdHRvbScpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMzQ1LCAnYm90dG9tJyksICdyaWdodCcpO1xuICAgICAgfSk7XG4gICAgICBpdCgnMzYwIGRlZ3JlZSBjaGVjayBmb3IgdmVydGljYWwgb3JpZW50cyByZXR1cm4gdG8gc2VlIGlmIHRoZXkgb3JpZW50IHByb3Blcmx5JywgKCkgPT4ge1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigwLCAnbGVmdCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTUsICdsZWZ0JyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzMCwgJ2xlZnQnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDQ1LCAnbGVmdCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oNjAsICdsZWZ0JyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbig3NSwgJ2xlZnQnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDkwLCAnbGVmdCcpLCAnY2VudGVyJyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDEwNSwgJ2xlZnQnKSwgJ2xlZnQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTIwLCAnbGVmdCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigxMzUsICdsZWZ0JyksICdsZWZ0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDE1MCwgJ2xlZnQnKSwgJ2xlZnQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMTY1LCAnbGVmdCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigxODAsICdsZWZ0JyksICdsZWZ0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDE5NSwgJ3JpZ2h0JyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigyMTAsICdyaWdodCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMjI1LCAncmlnaHQnKSwgJ3JpZ2h0Jyk7XG4gICAgICAgIGFzc2VydC5lcXVhbChsYWJlbEFsaWduKDI0MCwgJ3JpZ2h0JyksICdyaWdodCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigyNTUsICdyaWdodCcpLCAncmlnaHQnKTtcbiAgICAgICAgYXNzZXJ0LmVxdWFsKGxhYmVsQWxpZ24oMjcwLCAncmlnaHQnKSwgJ2NlbnRlcicpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigyODUsICdyaWdodCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzMDAsICdyaWdodCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzMTUsICdyaWdodCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzMzAsICdyaWdodCcpLCAnbGVmdCcpO1xuICAgICAgICBhc3NlcnQuZXF1YWwobGFiZWxBbGlnbigzNDUsICdyaWdodCcpLCAnbGVmdCcpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdsYWJlbEJhc2VsaW5lJywgKCkgPT4ge1xuICAgIGl0KCdpcyBtaWRkbGUgZm9yIHBlcnBlbmRpY3VsYXJzIGhvcml6b250YWwgb3JpZW50cycsICgpID0+IHtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSg5MCwgJ3RvcCcpLCB7dmFsdWU6ICdtaWRkbGUnfSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGxhYmVsQmFzZWxpbmUoMjcwLCAnYm90dG9tJyksIHt2YWx1ZTogJ21pZGRsZSd9KTtcbiAgICB9KTtcblxuXG4gICAgaXQoJ2lzIHRvcCBmb3IgYm90dG9tIG9yaWVudHMgZm9yIDFzdCBhbmQgNHRoIHF1YWRyYW50cycsICgpID0+IHtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSg0NSwgJ2JvdHRvbScpLCB7dmFsdWU6ICd0b3AnfSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGxhYmVsQmFzZWxpbmUoMTgwLCAndG9wJyksIHt2YWx1ZTogJ3RvcCd9KTtcbiAgICB9KTtcblxuICAgIGl0KCdpcyBib3R0b20gZm9yIGJvdHRvbSBvcmllbnRzIGZvciAybmQgYW5kIDNyZCBxdWFkcmFudHMnLCAoKSA9PiB7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGxhYmVsQmFzZWxpbmUoMTAwLCAnYm90dG9tJyksIHt2YWx1ZTogJ21pZGRsZSd9KTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSgyNjAsICdib3R0b20nKSwge3ZhbHVlOiAnbWlkZGxlJ30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2lzIG1pZGRsZSBmb3IgMCBhbmQgMTgwIGhvcml6b250YWwgb3JpZW50cycsICgpID0+IHtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSgwLCAnbGVmdCcpLCB7dmFsdWU6ICdtaWRkbGUnfSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGxhYmVsQmFzZWxpbmUoMTgwLCAncmlnaHQnKSwge3ZhbHVlOiAnbWlkZGxlJ30pO1xuICAgIH0pO1xuXG5cbiAgICBpdCgnaXMgdG9wIGZvciBib3R0b20gb3JpZW50cyBmb3IgMXN0IGFuZCAybmQgcXVhZHJhbnRzJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChsYWJlbEJhc2VsaW5lKDgwLCAnbGVmdCcpLCB7dmFsdWU6ICd0b3AnfSk7XG4gICAgICBhc3NlcnQuZGVlcEVxdWFsKGxhYmVsQmFzZWxpbmUoMTAwLCAnbGVmdCcpLCB7dmFsdWU6ICd0b3AnfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnaXMgYm90dG9tIGZvciBib3R0b20gb3JpZW50cyBmb3IgM3JkIGFuZCA0dGggcXVhZHJhbnRzJywgKCkgPT4ge1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChsYWJlbEJhc2VsaW5lKDI4MCwgJ2xlZnQnKSwge3ZhbHVlOiAnYm90dG9tJ30pO1xuICAgICAgYXNzZXJ0LmRlZXBFcXVhbChsYWJlbEJhc2VsaW5lKDI2MCwgJ2xlZnQnKSwge3ZhbHVlOiAnYm90dG9tJ30pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2lzIGJvdHRvbSBmb3IgYm90dG9tIG9yaWVudHMgZm9yIDNyZCBhbmQgNHRoIHF1YWRyYW50cycsICgpID0+IHtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSgyODAsICdsZWZ0JyksIHt2YWx1ZTogJ2JvdHRvbSd9KTtcbiAgICAgIGFzc2VydC5kZWVwRXF1YWwobGFiZWxCYXNlbGluZSgyNjAsICdsZWZ0JyksIHt2YWx1ZTogJ2JvdHRvbSd9KTtcbiAgICB9KTtcbiAgfSk7XG59KTtcbiJdfQ==